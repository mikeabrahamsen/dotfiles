#! /bin/zsh

if [ -z "$1" ]; then
    DATE=$(date +20%y-%m-%d)
    TITLEDATE=$(date +%d" "%B" "20%y)
else
    DATE=$(date -d "+$1 days" +20%y-%m-%d)
    TITLEDATE=$(date -d "+$1 days" +%d" "%B" "20%y)
fi
# use a command line argument to change the date
filename=$HOME/code/michaelabrahamsen.com/content/posts/dev-journal/$DATE-developer-journal.md
if test -f "$filename"; then
    echo "Entry exists - opening file"
else
    touch $filename
    echo "---" >> $filename
    echo "Title: Developer Journal: $TITLEDATE" >> $filename
    echo "Tags: developer journal" >> $filename
    echo "Author: Michael Abrahamsen" >> $filename
    echo "Status: Draft" >> $filename
    echo "---" >> $filename
fi
nvim $filename
